---
// Array que contiene todos tus productos (la "base de datos" local)
interface Producto {
  id: number;
  nombre: string;
  precio: number;
  imagen: string;
  descripcion: string;
  categoria: string;
  oferta: boolean;
  descOferta?: string;
  nuevoPrecio?: number;
}
const productos: Producto[] = [
  {
    id: 1,
    nombre: 'Portátil Gamer 15"',
    precio: 1199.99,
    imagen:
      "https://i.pinimg.com/1200x/b6/d5/f1/b6d5f1b4a0dfc8e3b5956bb6f1cef48e.jpg",
    descripcion:
      'Portátil de 15.6" con CPU de alto rendimiento, GPU dedicada y refrigeración mejorada; ideal para gaming y creación de contenido.',
    categoria: "Computadoras",
    oferta: true,
    descOferta: "10% de descuento por tiempo limitado",
    nuevoPrecio: 1079.99,
  },
  {
    id: 2,
    nombre: "PC Escritorio Mini (i7)",
    precio: 899.0,
    imagen:
      "https://i.pinimg.com/736x/45/c9/e9/45c9e93a473a8f9579c06185d63c7995.jpg",
    descripcion:
      "Mini PC con procesador i7, 16GB RAM y almacenamiento NVMe de alta velocidad. Perfecta para oficina y tareas exigentes en poco espacio.",
    categoria: "Computadoras",
    oferta: true,
    descOferta: "5% de descuento por tiempo limitado",
    nuevoPrecio: 854.05,
  },
  {
    id: 3,
    nombre: 'Monitor 27" 4K IPS',
    precio: 499.0,
    imagen:
      "https://i.pinimg.com/736x/7c/d2/e5/7cd2e5d8ddcf710ae28c4a8810cb6161.jpg",
    descripcion:
      'Monitor 27" 4K con panel IPS, alta precisión de color y soporte VESA. Excelente para edición, diseño y gaming a alta resolución.',
    categoria: "Periféricos",
    oferta: true,
    descOferta: "15% de descuento por tiempo limitado",
    nuevoPrecio: 424.15,
  },
  {
    id: 4,
    nombre: "Teclado Mecánico RGB",
    precio: 129.99,
    imagen:
      "https://i.pinimg.com/736x/b5/f8/21/b5f821c85447f7d85a2b84c003109d9c.jpg",
    descripcion:
      "Teclado mecánico compacto con switches táctiles, retroiluminación RGB y anti-ghosting para una experiencia de tipeo y gaming precisa.",
    categoria: "Periféricos",
    oferta: true,
    descOferta: "20% de descuento por tiempo limitado",
    nuevoPrecio: 103.99,
  },
  {
    id: 5,
    nombre: "Auriculares Gaming con Micrófono",
    precio: 89.99,
    imagen:
      "https://i.pinimg.com/1200x/11/db/37/11db379882bb1d2011ab4842883d2def.jpg",
    descripcion:
      "Auriculares circumaurales con sonido envolvente, cancelación ligera de ruido y micrófono retráctil para comunicación clara en juegos.",
    categoria: "Periféricos",
    oferta: true,
    descOferta: "15% de descuento por tiempo limitado",
    nuevoPrecio: 76.49,
  },
  {
    id: 6,
    nombre: "SSD NVMe 1TB",
    precio: 139.99,
    imagen:
      "https://i.pinimg.com/1200x/66/0c/88/660c881658e8ee0ca584c2b52dd25aa8.jpg",
    descripcion:
      "Unidad NVMe M.2 1TB con altas velocidades de lectura/escritura, ideal para OS, aplicaciones y tiempos de carga rápidos.",
    categoria: "Componentes",
    oferta: true,
    descOferta: "10% de descuento por tiempo limitado",
    nuevoPrecio: 125.99,
  },
];
---

<section
  id="productos"
  class="py-12 bg-gray-300 w-full bg-[url(https://i.pinimg.com/736x/ee/33/18/ee3318bcf45442057250fcfdd9101012.jpg)]"
>
  <h2 class="text-3xl font-bold text-center mb-6 text-gray-100">
    Ofertas Especiales
  </h2>

  <div class="px-2">
    <div
      class="flex overflow-x-scroll whitespace-nowrap space-x-4 hide-scrollbar snap-x snap-mandatory"
    >
      {
        productos.map((producto) => (
          <div class="card-prod w-[340px] shrink-0 bg-white rounded-xl shadow-lg snap-start flex flex-col">
            <div class="flex-1">
              <img
                src={producto.imagen}
                alt={`Imagen de ${producto.nombre}`}
                class="w-full h-80 object-fill rounded-t-xl"
              />
            </div>
            <div class="whitespace-normal">
              <div class="px-2">
                <h3 class="text-xl font-bold truncate text-gray-900">
                  {producto.nombre}
                </h3>
                <p class="text-2xl font-semibold text-indigo-600 line-through">
                  ${producto.precio.toFixed(2)}
                </p>
                <p class="text-gray-700 text-sm line-clamp-3">
                  {producto.descOferta ? (
                    <span class="font-medium text-red-500">
                      {producto.descOferta}
                    </span>
                  ) : null}
                </p>
                <p class="text-2xl font-semibold text-green-700">
                  ${producto.nuevoPrecio?.toFixed(2)}
                </p>
              </div>
              <div>
                <a
                  href={`/productos/${producto.id}`}
                  class="mt-3 block text-lg text-center bg-red-600 shadow-red-600 text-white py-2 rounded-lg hover:bg-gray-600"
                >
                  Ver más Detalles
                </a>
              </div>
            </div>
          </div>
        ))
      }
    </div>
  </div>

  <h2 class="text-3xl font-bold text-center mb-10 text-gray-100 mt-10">
    Nuestros Productos Más Vendidos
  </h2>

  <div class="grid grid-cols-2 sm:grid-cols-3 gap-0.5 max-w-screen">
    {
      productos.slice(0, 6).map((producto) => (
        <div class="flex flex-col items-center bg-black shadow-md w-full">
          <img
            src={producto.imagen}
            alt={`Imagen de ${producto.nombre}`}
            class="h-[220px] w-full object-cover"
          />
          <div class="p-1 text-center text-white">
            <h2>{producto.nombre}</h2>
            <p>{producto.precio.toFixed(2)}</p>
          </div>
          <div class="mt-auto w-full">
            <a
              href={`/productos/${producto.id}`}
              class="block text-lg font-semibold text-center bg-blue-500 text-white py-1 hover:bg-gray-600"
            >
              Ver más Detalles
            </a>
          </div>
        </div>
      ))
    }
  </div>

  <div class="text-center mt-10">
    <a
      href="/catalogo"
      class="inline-block bg-blue-500 text-white text-lg font-semibold py-3 px-10 rounded-full hover:bg-green-700 transition duration-300 shadow-xl"
    >
      Ver Todos los Productos
    </a>
  </div>
</section>

<style>
  .hide-scrollbar::-webkit-scrollbar {
    display: none;
  }
  .hide-scrollbar {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }

  @media (max-width: 400px) {
    .card-prod {
      width: 310px;
    }
  }
</style>
